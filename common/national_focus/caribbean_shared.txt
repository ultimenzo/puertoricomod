#	shared_focus = {
#		id = CARIBBEAN_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

# THIS IS THE BALTIC TREE BUT SLIGHTLY MODIFIED

shared_focus = {
	id = CARIBBEAN_rejoin_the_railways 
	icon = GFX_goal_generic_construct_infrastructure
	x = 10
	y = 0
	offset = {
		x = -6
		y = 0
		trigger = {
			
		}
	}

	cost = 5

	ai_will_do = {
		factor = 1
	}

	available = {

	}

	bypass = {
		
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		every_owned_state = {
			limit = {
				is_core_of = ROOT
				free_building_slots = {
					building = infrastructure
					size > 1
				}
				is_capital = no 
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

#Axis investments
shared_focus = {
	id = CARIBBEAN_axis_investments
	icon = GFX_focus_chi_mission_to_germany
	dynamic = yes
	prerequisite = { focus = CARIBBEAN_rejoin_the_railways }
	mutually_exclusive = { focus = CARIBBEAN_renew_allied_trade }
	x = -7
	y = 1
	relative_position_id = CARIBBEAN_rejoin_the_railways

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = fascism
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	completion_reward = {
		add_ideas = BALTIC_axis_investments_idea
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		if = {
			limit = {
				GER = {
					exists = yes
					has_capitulated = no
					has_government = fascism
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
			GER = {
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		else_if = {
			limit = { 
				suitable_fascist_major_in_europe = yes 
			}
			random_other_country = {
				limit = { 
					is_major = yes
					capital_scope = { is_on_continent = europe }
					exists = yes
					has_capitulated = no
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		else_if = {
			limit = {
				JAP = {
					exists = yes
					has_capitulated = no
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
			}
			JAP = {
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		else_if = {
			limit = {suitable_fascist_major_in_europe = yes }
			random_other_country = {
				limit = { 
					is_major = yes
					capital_scope = { is_on_continent = europe }
					exists = yes
					has_capitulated = no
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		else_if = {
			limit = {
				any_other_country = {
					is_faction_leader = yes
					has_government = fascism
				}
			}
			get_best_alliance_match_fascism_effect = yes
			var:best_leader = {
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		else_if = {
			limit = {
				any_other_country ={
					is_major = yes
					has_government = fascism
				}
			}
			random_other_country = {
				limit = {
					is_major = yes 
					has_government = fascism 
				}
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}

			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_german_war_economics
	icon = GFX_goal_generic_production
	dynamic = yes
	prerequisite = { focus = CARIBBEAN_axis_investments }
	x = -1
	y = 1
	relative_position_id = CARIBBEAN_axis_investments

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = fascism
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		upgrade_economy_law = yes
		capital_scope = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_autobahn
	icon = GFX_goal_reichsautobahn
	prerequisite = { focus = CARIBBEAN_german_war_economics }
	prerequisite = { focus = CARIBBEAN_german_tank_licences }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_german_war_economics

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = fascism
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		capital_scope = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		every_owned_state = {
			limit = {
				is_core_of = ROOT
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
		}
		random_owned_controlled_state = {
			limit = {
				is_capital = no
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_german_tank_licences
	icon = GFX_goal_generic_army_tanks
	dynamic = yes
	prerequisite = { focus = CARIBBEAN_axis_investments }
	x = 1
	y = 1
	relative_position_id = CARIBBEAN_axis_investments

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = fascism
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		if = {
			limit = {
				GER = {
					exists = yes
					has_capitulated = no
					has_government = fascism
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
			GER = { 
				give_fascist_tank_licences = yes
			}
		}
		else_if = {
			limit = {
				suitable_fascist_major_in_europe = yes
			}
			random_other_country = {
				limit ={
					is_major = yes
					capital_scope = { is_on_continent = europe }
					exists = yes
					has_capitulated = no
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
				give_fascist_tank_licences = yes
			}
		}
		else_if = { 
			limit = {
				JAP = {
					exists = yes
					has_capitulated = no
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
			}
			JAP = {
				give_fascist_tank_licences = yes
			}
		}
		else = {
			get_best_alliance_match_fascism_effect = yes
			var:best_leader = {
				give_fascist_tank_licences = yes
			}
		} 	
	}
}

shared_focus = {
	id = CARIBBEAN_german_CARIBBEAN_industry
	icon = GFX_goal_generic_production2
	prerequisite = { focus = CARIBBEAN_german_tank_licences }
	prerequisite = { focus = CARIBBEAN_german_war_economics }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_german_tank_licences

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = fascism
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		swap_ideas = {
			remove_idea = BALTIC_axis_investments_idea
			add_idea = BALTIC_axis_investments_idea_1
		}
	}
}

shared_focus = {
	id = CARIBBEAN_request_german_support
	dynamic = yes
	icon = GFX_goal_generic_trade
	prerequisite = { focus = CARIBBEAN_autobahn }
	prerequisite = { focus = CARIBBEAN_german_CARIBBEAN_industry }
	x = 1
	y = 1
	relative_position_id = CARIBBEAN_autobahn

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = fascism
			is_faction_leader = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		if = {
			limit = {
				GER = {
					exists = yes
					has_capitulated = no
					has_government = fascism
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
			GER = { 
				country_event = {
					id = BALTIC_events.1
					days = 10
				}			
			}
		}
		else_if = {
			limit = {
				suitable_fascist_major_in_europe = yes
			}
			random_other_country = {
				limit ={
					is_major = yes
					capital_scope = { is_on_continent = europe }
					exists = yes
					has_capitulated = no
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
				country_event = {
					id = BALTIC_events.1
					days = 10
				}			
			}
		}
		else_if = { 
			limit = {
				JAP = {
					exists = yes
					has_capitulated = no
					has_government = fascism
					NOT = { has_war_with = ROOT }
				}
			}
			JAP = {
				country_event = {
					id = BALTIC_events.1
					days = 10
				}
			}
		}
		else = {
			get_best_alliance_match_fascism_effect = yes
			var:best_leader = {
				country_event = {
					id = BALTIC_events.1
					days = 10
				}			
			}
		}
	}
}

#Allied investments
shared_focus = {
	id = CARIBBEAN_renew_allied_trade
	icon = GFX_focus_chi_british_cooperation
	dynamic = yes
	prerequisite = { focus = CARIBBEAN_rejoin_the_railways }
	mutually_exclusive = { focus = CARIBBEAN_axis_investments }
	x = -3
	y = 1
	relative_position_id = CARIBBEAN_rejoin_the_railways

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = democratic
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	completion_reward = {
		add_ideas = BALTIC_allied_investments_idea
		## Checking for valid Democractic Countries to increase opinion
		if = { #Checking for UK 
			limit = {
				ENG = { 
					exists = yes
					has_capitulated = no
					has_government = democratic
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
			ENG = {
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		else_if = { # (Allied) Fallback to France 
			limit = {
				FRA = { 
					exists = yes
					has_capitulated = no
					has_government = democratic
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
			FRA = {
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		else_if = { # (American) Fallback to USA
			limit = {
				USA = { 
					exists = yes
					has_capitulated = no
					has_government = democratic
					NOT = { has_war_with = ROOT }
				}
			}
			USA = {
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		else_if = { # (European) Fallback to another European Democracy
			limit = { suitable_democratic_major_in_europe = yes	}
			random_other_country = {
				limit = { 
					is_major = yes
					capital_scope = { is_on_continent = europe }
					exists = yes
					has_capitulated = no
					has_government = democratic
					NOT = { has_war_with = ROOT }
				}
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		else_if = { # (International) Fallback to any democratic faction leader. 
			limit = {
				any_other_country = {
					is_faction_leader = yes
					has_government = fascism
				}
			}
			get_best_alliance_match_democratic_effect = yes
			var:best_leader = {
				add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
				reverse_add_opinion_modifier = {
					target = PREV
					modifier = CARIBBEAN_investments
				}
			}
		}
		if = {
			limit = {
				has_idea = export_focus
			}
			swap_ideas = {
				remove_idea = export_focus
				add_idea = free_trade
			}
		}
		if = {
			limit = {
				has_idea = limited_exports
			}
			swap_ideas = {
				remove_idea = limited_exports
				add_idea = free_trade
			}
		}
		if = {
			limit = {
				has_idea = closed_economy
			}
			swap_ideas = {
				remove_idea = closed_economy
				add_idea = free_trade
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_ford_motors
	icon = GFX_goal_generic_army_motorized
	prerequisite = { focus = CARIBBEAN_renew_allied_trade }
	x = -1
	y = 1
	relative_position_id = CARIBBEAN_renew_allied_trade

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = democratic
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		add_offsite_building = { type = arms_factory level = 1 }
		if = {
			limit = {
				NOT = {
					has_tech = motorised_infantry
				}
			}
			add_tech_bonus = {
				name = BALTIC_ford
				bonus = 3.0
				uses = 1
				category = motorized_equipment
			}
		}
		else = { #separate tech bonus to ensure trucks get the bonus, due to the way ahead of time reduction works
			add_tech_bonus = {
				name = BALTIC_ford
				ahead_reduction = 2
				bonus = 3.0
				uses = 1
				category = motorized_equipment
			}
		}
		show_ideas_tooltip = BALTIC_ford
	}
}

shared_focus = {
	id = CARIBBEAN_crossley_motors
	icon = GFX_goal_generic_army_motorized
	prerequisite = { focus = CARIBBEAN_ford_motors focus = CARIBBEAN_british_aircraft }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_ford_motors

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = democratic
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		add_offsite_building = { type = industrial_complex level = 2 }
		add_offsite_building = { type = arms_factory level = 3 }
	}
}

shared_focus = {
	id = CARIBBEAN_british_designers
	icon = GFX_goal_generic_major_alliance
	prerequisite = { focus = CARIBBEAN_crossley_motors }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_crossley_motors

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		ENG = {
			exists = yes
			has_capitulated = no
			has_government = democratic
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		add_offsite_building = { type = industrial_complex level = 1 }
		add_offsite_building = { type = arms_factory level = 1 }
		show_ideas_tooltip = BALTIC_RAF
		show_ideas_tooltip = BALTIC_RSAF_enfield
		show_ideas_tooltip = BALTIC_royal_arsenal
	}
}

shared_focus = {
	id = CARIBBEAN_british_aircraft
	icon = GFX_goal_generic_air_fighter
	dynamic = yes
	prerequisite = { focus = CARIBBEAN_renew_allied_trade }
	x = 1
	y = 1
	relative_position_id = CARIBBEAN_renew_allied_trade

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = democratic
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		air_experience = 40
		## Checking for valid Democractic Countries to get aircraft from
		if = { #Checking for UK 
			limit = {
				ENG = { 
					exists = yes
					has_capitulated = no
					has_government = democratic
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
			ENG = {
				give_aircraft_and_licences = yes
			}
		}
		else_if = { # (Allied) Fallback to France 
			limit = {
				FRA = { 
					exists = yes
					has_capitulated = no
					has_government = democratic
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
			FRA = {
				give_aircraft_and_licences = yes
			}
		}
		else_if = { # (American) Fallback to USA
			limit = {
				USA = { 
					exists = yes
					has_capitulated = no
					has_government = democratic
					NOT = { has_war_with = ROOT }
				}
			}
			USA = {
				give_aircraft_and_licences = yes
			}
		}
		else_if = { # (European) Fallback to another European Democracy
			limit = { suitable_democratic_major_in_europe = yes	}
			random_other_country = {
				limit = { 
					is_major = yes
					capital_scope = { is_on_continent = europe }
					exists = yes
					has_capitulated = no
					has_government = democratic
					NOT = { has_war_with = ROOT }
				}
				give_aircraft_and_licences = yes
			}
		}
		else = { # (International) Fallback to any democratic faction leader. 
			get_best_alliance_match_democratic_effect = yes
			var:best_leader = {
				give_aircraft_and_licences = yes
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_allied_shipments
	icon = GFX_goal_generic_small_arms
	prerequisite = { focus = CARIBBEAN_british_aircraft focus = CARIBBEAN_ford_motors }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_british_aircraft

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = democratic
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		if = { #Checking for UK 
			limit = {
				ENG = { 
					exists = yes
					has_capitulated = no
					has_government = democratic
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
			ENG = {
				BALTIC_give_allied_equipment = yes
			}
		}
		else_if = { # (Allied) Fallback to France 
			limit = {
				FRA = { 
					exists = yes
					has_capitulated = no
					has_government = democratic
					is_faction_leader = yes
					NOT = { has_war_with = ROOT }
				}
			}
			FRA = {
				BALTIC_give_allied_equipment = yes
			}
		}
		else_if = { # (American) Fallback to USA
			limit = {
				USA = { 
					exists = yes
					has_capitulated = no
					has_government = democratic
					NOT = { has_war_with = ROOT }
				}
			}
			USA = {
				BALTIC_give_allied_equipment = yes
			}
		}
		else_if = { # (European) Fallback to another European Democracy
			limit = { suitable_democratic_major_in_europe = yes	}
			random_other_country = {
				limit = { 
					is_major = yes
					capital_scope = { is_on_continent = europe }
					exists = yes
					has_capitulated = no
					has_government = democratic
					NOT = { has_war_with = ROOT }
				}
				BALTIC_give_allied_equipment = yes
			}
		}
		else = { # (International) Fallback to any democratic faction leader. 
			get_best_alliance_match_democratic_effect = yes
			var:best_leader = {
				BALTIC_give_allied_equipment = yes
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_CARIBBEAN_fleet
	icon = GFX_goal_generic_construct_naval_dockyard
	prerequisite = { focus = CARIBBEAN_allied_shipments }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_allied_shipments

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		any_owned_state = {
			is_coastal = yes
		}
		any_other_country = {
			exists = yes
			has_capitulated = no
			has_government = democratic
			is_major = yes
			NOT = { has_war_with = ROOT }
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		navy_experience = 30
		random_owned_controlled_state = {
			limit = { is_coastal = yes }
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}

		every_state = {
			LIMIT = {
				is_capital = yes
				is_owned_by = PREV
			}
			add_building_construction = {
				type = coastal_bunker
				province = {
					all_provinces = yes
					limit_to_coastal = yes
				}
				level = 2
				instant_build = yes
			}
		}

		if = {
			limit = { tag = PUE }
			if = {
				limit = { controls_state = 835 }
				835 = {
					add_building_construction = { type = coastal_bunker province = 4155 level = 2 instant_build = yes }
					add_building_construction = { type = coastal_bunker province = 13236 level = 2 instant_build = yes }
				}
			}
		}
	}
}

#Attract workers
shared_focus = {
	id = CARIBBEAN_attract_workers_to_capital
	icon = GFX_goal_generic_construct_civilian
	prerequisite = { focus = CARIBBEAN_rejoin_the_railways }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_rejoin_the_railways

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		capital_scope = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 3
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_rebuild_forts
	icon = GFX_goal_generic_fortify_city
	prerequisite = { focus = CARIBBEAN_attract_workers_to_capital }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_attract_workers_to_capital

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			AND = {
				original_tag = PUE
				controls_state = 686
			}
			AND = {
				original_tag = DOM
				controls_state = 319
			}
			AND = {
				original_tag = HAI
				controls_state = 318
			}
			AND = {
				original_tag = CUB
				controls_state = 855
			}
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		if = {
			limit = { original_tag = PUE }
			686 = {
				add_building_construction = { type = coastal_bunker province = 1440 level = 3 instant_build = yes }
				add_building_construction = { type = bunker province = 1440 level = 3 instant_build = yes }
			}
		}
		if = {
			limit = { original_tag = DOM }
			319 = {
				add_building_construction = { type = bunker province = 7660 level = 2 instant_build = yes }
				add_building_construction = { type = bunker province = 7660 level = 3 instant_build = yes }
			}
		}
		if = {
			limit = { original_tag = HAI }
			318 = {
				add_building_construction = { type = bunker province = 4641 level = 2 instant_build = yes }
				add_building_construction = { type = coastal_bunker province = 4641 level = 3 instant_build = yes }
			}
		}

		if = {
			limit = { original_tag = CUB }
			855 = {
				add_building_construction = { type = bunker province = 7622 level = 2 instant_build = yes }
				add_building_construction = { type = coastal_bunker province = 7622 level = 3 instant_build = yes }
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_arm_the_nation
	icon = GFX_goal_generic_construct_mil_factory
	prerequisite = { focus = CARIBBEAN_rebuild_forts }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_rebuild_forts

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			prioritize = { 11 12 13 }
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			prioritize = { 189 190 191 }
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			prioritize = { 814 808 811 }
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			prioritize = { 815 809 812 }
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			prioritize = { 188 810 813 }
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_unchain_education
	icon = GFX_focus_research
	prerequisite = { focus = CARIBBEAN_rebuild_forts }
	x = 2
	y = 1
	relative_position_id = CARIBBEAN_rebuild_forts

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		industrial_complex > 15
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_RESEARCH }
	completion_reward = {
		add_research_slot = 1
	}
}

shared_focus = {
	id = CARIBBEAN_technology_sharing
	icon = GFX_goal_tfv_generic_tech_sharing
	prerequisite = { focus = CARIBBEAN_unchain_education }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_unchain_education

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		is_in_faction = yes
		is_subject = no
	}

	bypass = {
		is_in_tech_sharing_group = caribbean_allied_research
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_RESEARCH }
	completion_reward = {
		custom_effect_tooltip = BALTIC_tech_sharing_tt
		add_research_slot = 1
		hidden_effect = {
			add_to_tech_sharing_group = caribbean_allied_research
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				add_to_tech_sharing_group = caribbean_allied_research
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_defence_of_our_nation
	icon = GFX_goal_generic_defence
	prerequisite = { focus = CARIBBEAN_arm_the_nation }
	x = 0
	y = 1
	relative_position_id = CARIBBEAN_arm_the_nation

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		add_ideas = BALTIC_defending_the_nation
	}
}

#Modernized industry
shared_focus = {
	id = CARIBBEAN_modernize_industry
	icon = GFX_focus_generic_industry_1
	prerequisite = { focus = CARIBBEAN_rejoin_the_railways }
	x = 4
	y = 1
	relative_position_id = CARIBBEAN_rejoin_the_railways

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_domestic_motors
	icon = GFX_goal_generic_army_tanks
	prerequisite = { focus = CARIBBEAN_modernize_industry }
	x = -1
	y = 1
	relative_position_id = CARIBBEAN_modernize_industry

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_school_of_aviation
	icon = GFX_goal_generic_air_fighter2
	prerequisite = { focus = CARIBBEAN_modernize_industry }
	x = 1
	y = 1
	relative_position_id = CARIBBEAN_modernize_industry

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	completion_reward = {
		air_experience = 25
		if = {
			limit = {
				capital_scope = {
					NOT = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				ROOT = { set_country_flag = aviation_effort_AB }
			}
		}
		if = {
			limit = {
				capital_scope = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			capital_scope = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				ROOT = { set_country_flag = aviation_effort_AB }
			}
		}
		add_doctrine_cost_reduction = {
			name = air_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = air_doctrine
		}
		add_tech_bonus = {
			name = CARIBBEAN_school_of_aviation_tech_bonus
			bonus = 1.0
			uses = 2
			category = air_equipment
		}
	}
}

shared_focus = {
	id = CARIBBEAN_original_designs
	icon = GFX_goal_generic_small_arms
	prerequisite = { focus = CARIBBEAN_domestic_motors focus = CARIBBEAN_school_of_aviation }
	x = 1
	y = 1
	relative_position_id = CARIBBEAN_domestic_motors

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_RESEARCH }
	completion_reward = {
		add_tech_bonus = {
			name = CARIBBEAN_original_designs
			bonus = 1.0
			uses = 1
			category = infantry_weapons
		}
		add_tech_bonus = {
			name = CARIBBEAN_original_designs
			bonus = 1.0
			uses = 1
			category = artillery
		}
		add_tech_bonus = {
			name = CARIBBEAN_original_designs
			bonus = 1.0
			uses = 1
			category = armor
		}
	}
}

shared_focus = {
	id = CARIBBEAN_arms_industry
	icon = GFX_goal_generic_construct_mil_factory
	prerequisite = { focus = CARIBBEAN_original_designs }
	prerequisite = { focus = CARIBBEAN_defence_of_our_nation }
	x = 0
	y = 2
	relative_position_id = CARIBBEAN_original_designs

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		capital_scope = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_natural_resources
	icon = GFX_goal_generic_oil_refinery
	prerequisite = { focus = CARIBBEAN_modernize_industry }
	x = 3
	y = 1
	relative_position_id = CARIBBEAN_modernize_industry

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {

	}

	bypass = {
		NOT = {
			OR = {
				tag = CUB
				tag = DOM
				tag = HAI
				tag = PUE
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		if = {
			limit = { original_tag = PUE }
			836 = {
				add_resource = {
					type = steel 
					amount = 8
				}
			}

			686 = {
				add_resource = {
					type = oil
					amount = 8
				}
			}
		}
		else_if = {
			limit = { original_tag = CUB }
			855 = {
				add_resource = {
					type = steel
					amount = 16
				}

				add_resource = {
					type = chromium 
					amount = 16
				}
			}
		}
		else_if = {
			limit = { original_tag = DOM }
			844 = {
				add_resource = {
					type = chromium
					amount = 10
				}
			}
		}

		else_if = {
			limit = { original_tag = HAI }
			318 = {
				add_resource = {
					type = oil
					amount = 8
				}
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_trade_with_neighbors
	icon = GFX_goal_generic_positive_trade_relations
	prerequisite = { focus = CARIBBEAN_natural_resources }
	mutually_exclusive = { focus = CARIBBEAN_invest_in_CARIBBEAN_trade }
	x = -1
	y = 1
	relative_position_id = CARIBBEAN_natural_resources

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
		OR = {
			tag = CUB
			tag = DOM
			tag = HAI
			tag = PUE
		}
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		every_other_country = {
			limit = {
				OR = {
					original_tag = CUB
					original_tag = DOM
					original_tag = HAI
					original_tag = JAM
					original_tag = TRI
					original_tag = BAH
					original_tag = HAI
					original_tag = PUE
				}
				NOT = { original_tag = ROOT }
			}
			add_opinion_modifier = {
				target = PREV
				modifier = CARIBBEAN_trade
			}
		}
		if = {
			limit = { original_tag = PUE }
			836 = {
				add_resource = {
					type = steel 
					amount = 4
				}
			}

			686 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
		else_if = {
			limit = { original_tag = CUB }
			855 = {
				add_resource = {
					type = steel
					amount = 8
				}

				add_resource = {
					type = chromium 
					amount = 8
				}
			}
		}
		else_if = {
			limit = { original_tag = DOM }
			844 = {
				add_resource = {
					type = chromium
					amount = 5
				}
			}
		}

		else_if = {
			limit = { original_tag = HAI }
			318 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
		}
	}
}

shared_focus = {
	id = CARIBBEAN_invest_in_CARIBBEAN_trade
	icon = GFX_goal_generic_trade
	prerequisite = { focus = CARIBBEAN_natural_resources }
	mutually_exclusive = { focus = CARIBBEAN_trade_with_neighbors }
	x = 1
	y = 1
	relative_position_id = CARIBBEAN_natural_resources

	cost = 10

	ai_will_do = {
		factor = 1
	}

	available = {
	}

	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	search_filters = { FOCUS_FILTER_INDUSTRY }
	completion_reward = {
		capital_scope = {
			add_building_construction = {
				type = naval_base
				level = 2
				instant_build = yes
				province = 6314
			}
		}
		
		random_owned_controlled_state = {
			limit = {
				is_coastal = yes
				free_building_slots = {
					building = dockyard
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = dockyard
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
		add_equipment_to_stockpile = {
			type = convoy
			amount = 150
		}
	}
}

shared_focus = {
	id = CAB_political_effort
	icon = GFX_goal_generic_demand_territory
	x = 24
	y = 0
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL }

	available_if_capitulated = yes

	completion_reward = {
		add_political_power = 120
	}
}

shared_focus = {
	id = CAB_collectivist_ethos
	icon = GFX_goal_generic_national_unity #icon = GFX_goal_tripartite_pact
	prerequisite = { focus = CAB_political_effort }
	mutually_exclusive = { focus = CAB_liberty_ethos}
	available = {
		OR = {
			has_government = fascism
			has_government = communism
			has_government = neutrality
		}
	}
	x = -1
	y = 1
	relative_position_id = CAB_political_effort
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL   }

	available_if_capitulated = yes


	ai_will_do = {
		factor = 5
		modifier = {
			factor = 0
			OR = {
				AND = {
					is_historical_focus_on = yes
					has_government = neutrality
				}
				has_idea = neutrality_idea
			}
		}
		modifier = {
			factor = 20
			has_idea = SOV_russian_political_influence
		}
	}

	completion_reward = {
		add_timed_idea = { idea = collectivist_ethos_focus days = 1095 }
	}
}

shared_focus = {
	id = CAB_nationalism_focus
	icon = GFX_goal_support_fascism #icon = GFX_goal_tripartite_pact
	prerequisite = { focus = CAB_collectivist_ethos }
	mutually_exclusive = { focus = CAB_internationalism_focus }
	available = {
		OR = {
			has_government = fascism
			has_government = neutrality
		}
	}
	x = -2
	y = 1
	relative_position_id = CAB_collectivist_ethos
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL  }

	available_if_capitulated = yes


	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			any_neighbor_country = {
				is_major = yes
				has_government = fascism
			}
		}
		modifier = {
			factor = 0
			AND = {
				is_historical_focus_on = yes
				NOT = { has_government = fascism }
			}
		}
		modifier = {
			factor = 10
			has_idea = SOV_russian_political_influence
		}
	}

	completion_reward = {
		add_timed_idea = {
			idea = nationalism
			days = 720
		}
	}
}

shared_focus = {
	id = CAB_internationalism_focus
	icon = GFX_goal_support_communism #icon = GFX_goal_tripartite_pact
	prerequisite = { focus = CAB_collectivist_ethos }
	mutually_exclusive = { focus = CAB_nationalism_focus }
	available = {
		if = {
			limit = { original_tag = CHI }
			has_government = communism
			else = {
				OR = {
					has_government = communism
					has_government = neutrality
				}
			}
		}
	}
	x = 0
	y = 1
	relative_position_id = CAB_collectivist_ethos
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL  }

	available_if_capitulated = yes


	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			any_neighbor_country = {
				is_major = yes
				has_government = communism
			}
		}			
		modifier = {
			factor = 0
			AND = {
				is_historical_focus_on = yes
				NOT = { has_government = communism }
			}
		}
	}

	completion_reward = {
		add_timed_idea = {
			idea = internationalism
			days = 720
		}
	}
}	

shared_focus = {
	id = CAB_liberty_ethos
	icon = GFX_goal_support_democracy
	prerequisite = { focus = CAB_political_effort }
	mutually_exclusive = { focus = CAB_collectivist_ethos }
	available = {
		OR = {
			has_government = democratic
			has_government = neutrality
		}
	}
	x = 1
	y = 1
	relative_position_id = CAB_political_effort
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL }

	available_if_capitulated = yes


	ai_will_do = {
		factor = 95
		modifier = {
			factor = 0.1
			any_neighbor_country = {
				is_major = yes
				OR = {
					has_government = communism
					has_government = fascism
				}
			}
			NOT = {
				any_neighbor_country = {
					is_major = yes
					has_government = democratic
				}
			}
		}
	}

	completion_reward = {
		add_ideas = liberty_ethos_focus
	}
}

shared_focus = {
	id = CAB_militarism
	icon = GFX_goal_generic_political_pressure
	prerequisite = { focus = CAB_nationalism_focus }
	x = 0
	y = 1
	relative_position_id = CAB_nationalism_focus
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL  }

	available_if_capitulated = yes

	completion_reward = {
		if = {
			limit = { has_idea = neutrality_idea }
			remove_ideas = neutrality_idea
		}			
		add_ideas = militarism_focus
		army_experience = 20
		set_rule = { can_send_volunteers = yes }
	}
}

shared_focus = {
	id = CAB_political_correctness
	icon = GFX_goal_generic_dangerous_deal
	prerequisite = { focus = CAB_internationalism_focus }
	x = 0
	y = 1
	relative_position_id = CAB_internationalism_focus
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL  }

	available_if_capitulated = yes

	completion_reward = {
		if = {
			limit = { has_idea = neutrality_idea }
			remove_ideas = neutrality_idea
		}		
		add_political_power = 200
		add_ideas = idea_political_correctness
	}
}

shared_focus = {
	id = CAB_neutrality_focus
	icon = GFX_goal_generic_neutrality_focus
	prerequisite = { focus = CAB_liberty_ethos }
	mutually_exclusive = { focus = CAB_interventionism_focus }
	x = 0
	y = 1
	relative_position_id = CAB_liberty_ethos
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL }

	available_if_capitulated = yes

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 0
			tag = AUS
		}
		modifier = {
			factor = 0
			tag = SAU
			is_in_faction_with = SOV
			SOV = { has_government = communism }
		}
	}

	completion_reward = {
		if = {
			limit = { NOT = { has_idea = neutrality_idea } }
			add_ideas = neutrality_idea
		}
		add_political_power = 150
	}
}

shared_focus = {
	id = CAB_interventionism_focus
	icon = GFX_goal_generic_political_pressure
	prerequisite = { focus = CAB_liberty_ethos }
	mutually_exclusive = { focus = CAB_neutrality_focus }
	x = 2
	y = 1
	relative_position_id = CAB_liberty_ethos
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL }

	available_if_capitulated = yes


	ai_will_do = {
		factor = 1
		modifier = {
			factor = 0
			has_idea = neutrality_idea
		}
	}

	completion_reward = {
		if = {
			limit = { has_idea = neutrality_idea }
			remove_ideas = neutrality_idea
		}	
		set_rule = { can_send_volunteers = yes }
		add_political_power = 150
	}
}

shared_focus = {
	id = CAB_military_youth
	icon = GFX_goal_generic_more_territorial_claims
	prerequisite = { focus = CAB_militarism }
	x = 0
	y = 1
	relative_position_id = CAB_militarism
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL  }

	available_if_capitulated = yes

	completion_reward = {
		add_ideas = military_youth_focus
		if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = 0.2
			}
		}
		if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = 0.2
			}
		}
	}
}

shared_focus = {
	id = CAB_deterrence
	icon = GFX_goal_generic_defence
	prerequisite = { focus = CAB_neutrality_focus }
	x = 0
	y = 1
	relative_position_id = CAB_neutrality_focus
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	available_if_capitulated = yes

	completion_reward = {
		add_ideas = deterrence
	}
}

shared_focus = {
	id = CAB_volunteer_corps
	icon = GFX_goal_generic_allies_build_infantry
	prerequisite = { focus = CAB_interventionism_focus }
	x = 0
	y = 1
	relative_position_id = CAB_interventionism_focus
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL }

	available_if_capitulated = yes

	completion_reward = {
		add_ideas = volunteer_corps_focus
	}
}

shared_focus = {
	id = CAB_paramilitarism
	icon = GFX_goal_generic_military_sphere
	prerequisite = { focus = CAB_military_youth }
	x = 0
	y = 1
	relative_position_id = CAB_military_youth
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL  }

	available_if_capitulated = yes

	completion_reward = {
		add_ideas = paramilitarism_focus
	}
}

shared_focus = {
	id = CAB_indoctrination_focus
	icon = GFX_goal_generic_propaganda
	prerequisite = { focus = CAB_political_correctness }
	x = 0
	y = 1
	relative_position_id = CAB_political_correctness
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL  }

	available_if_capitulated = yes

	completion_reward = {
		add_ideas = indoctrination_focus
		add_political_power = 150
	}
}

shared_focus = {
	id = CAB_foreign_expeditions
	icon = GFX_goal_generic_more_territorial_claims
	prerequisite = { focus = CAB_volunteer_corps }
	x = 0
	y = 1
	relative_position_id = CAB_volunteer_corps
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL }

	available_if_capitulated = yes

	completion_reward = {
		add_ideas = foreign_expeditions_focus
	}
}

shared_focus = {
	id = CAB_why_we_fight
	icon = GFX_goal_generic_propaganda
	prerequisite = { focus = CAB_foreign_expeditions focus = CAB_deterrence }
	available = { 
		OR = { 
			threat > 0.75 
			has_defensive_war = yes 
		}
	}

	continue_if_invalid = yes
	
	x = -2
	y = 1
	relative_position_id = CAB_foreign_expeditions
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL }

	available_if_capitulated = yes

	completion_reward = {
		add_ideas = why_we_fight_focus
		custom_effect_tooltip = why_we_fight_effect
		hidden_effect = {
			if = {
				limit = { NOT = { has_idea = neutrality_idea } }
				set_rule = { can_create_factions = yes }
			}			
		}
	}
}

shared_focus = {
	id = CAB_political_commissars
	icon = GFX_goal_generic_forceful_treaty
	prerequisite = { focus = CAB_indoctrination_focus }
	available = {
	}
	x = 0
	y = 1
	relative_position_id = CAB_indoctrination_focus
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL  }

	available_if_capitulated = yes

	completion_reward = {
		add_ideas = political_commissars_focus
		if = {
			limit = { has_government = fascism }
			add_popularity = {
				ideology = fascism
				popularity = 0.2
			}
		}
		if = {
			limit = { has_government = communism }
			add_popularity = {
				ideology = communism
				popularity = 0.2
			}
		}
		add_political_power = 200
	}
}

shared_focus = {
	id = CAB_ideological_fanaticism
	icon = GFX_goal_generic_demand_territory
	prerequisite = { focus = CAB_paramilitarism focus = CAB_political_commissars }
	x = 1
	y = 1
	relative_position_id = CAB_paramilitarism
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL }

	available_if_capitulated = yes

	completion_reward = {
		add_ideas = ideological_fanaticism_focus
		set_rule = {
			can_create_factions = yes
		}
		hidden_effect = {
			set_rule = { can_use_kamikaze_pilots = yes }
		}
		custom_effect_tooltip = kamikaze_focus_tooltip
	}
}

shared_focus = {
	id = CAB_technology_sharing
	icon = GFX_goal_generic_scientific_exchange
	prerequisite = { focus = CAB_ideological_fanaticism focus = CAB_why_we_fight }
	available = {
		has_war = yes
		is_in_faction = yes
		OR = {
			num_of_factories > 50
			any_other_country = {
				is_in_faction_with = ROOT
				num_of_factories > 50
			}
		}
	}		
	x = 2
	y = 1
	relative_position_id = CAB_ideological_fanaticism
	cost = 10

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }

	available_if_capitulated = yes

	completion_reward = {
		if = {
			limit = {
				original_research_slots < 3
			}
			add_research_slot = 1
		}
		if = {
			limit = {
				original_research_slots > 2
			}
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 1.0
				uses = 1
				category = electronics
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}	
			add_tech_bonus = {
				name = infantry_artillery_bonus #@#
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				category = artillery
			}				
		}			
	}
}
